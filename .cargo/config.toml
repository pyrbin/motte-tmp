[target.wasm32-unknown-unknown]
runner = "wasm-server-runner"

[registries.crates.io]
protocol = "sparse"

[target.x86_64-pc-windows-msvc]
linker = "rust-lld.exe"
rustflags = [
    "-Zshare-generics=n",   # (Nightly) Shoulde use -Zshare-generics=n, but feels unstable :shrug:.
    "-Zthreads=32",         # (Nightly) Use improved multithreading with the recommended amount of threads.
]

# Following improves compile times, but reduces the amount of debug info to 'line number tables only'
# In most cases the gains are negligible, but if you are on macos and have slow compile times you should see significant gains.
[profile.dev]
debug = 1